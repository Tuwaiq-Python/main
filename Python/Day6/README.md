
## مفهوم Class

عند البدء في كتابة برامجك فسوف تجد أنك بحاجة إلى تنظيم برنامجك والشيفرات البرمجية الي تكتبها بطريقة تُساعدك على جعل البرنامج مُقسم بطريقة منظمة تكون قابلة للإضافة والحذف والمعالجة والتصحيح وغيرها منعمليات التطوير الي يقوم بها المبرمج بالإضافة إلى أنها قابلة لإعادة الاستخدام في برامج أخرى إن أمكن. توفر لغةPython البرمجة بأسلوب Object Oriented Porgramming واختصاره OOP . يوفر لك هذا الأسلوب أوالنموذج البرمجي طريقة منظمة لكتابة برمجياتك وتصحيحها والتعامل معها بشكل يساعدك على التطوير المستمرللشيفرة البرمجية وتوفر الوقت والجهد في ذلك من خال القدرة على إعادة استخدامها كما ذكرنا في برامج أخرى.

سنتحدث في هذا الجزء عن مقدمة حول مفهوم OOP وكيف تدعم لغة Python هذا المفهوم.

بنهاية هذا الجزء، ستكون قادر على:
•التعامل مع الكائنات .Objects
•إنشاء Class جديد.
•معرفة الفرق بين Class و .Object
•التعامل مع الخصائص .Attributes
•التعامل مع الدوال .Methods

لو نظرنا للكمبيوتر والعمليات الي يقوم بها بشكل مُبسط، فسنجد أن الكمبيوتر يتعامل مع أمرين، الأول البيانات data ، والثانيهي العمليات operations الي يتم تنفيذها على تلك العمليات. لتوضيح الأمر أك ، عندما نقوم بجمع a + b فالبيانات في هذه رالحالة هي القيم المخزنة في كل من a و b والعملية الي نقوم بها هي الجمع ومن ثم سنحصل على الناتج. هناك العديد منالعمليات الي يمكننا القيام بها على البيانات وذكرت الجمع كونه الأسهل في توضح هذا الأمر.

في البرمجة نحن بحاجة إلى تنظيم تلك البيانات والعمليات الي تعمل عليها بطرق مُختلفة وهذا التنظيم يُسمى programmingparadigm ،أي نموذج برمجي أو أسلوب أو طريقة للبرمجة.

عند كتابة البرامج فغالباً ما ستجد نفسك أمام طريقت ي للكتابة، الأولى هي procedural programming والثانية هي object-oriented programming . تعتمد الطريقة الأولى على تنظيم البرنامج في مجموعة من الدوال functions ، والي تمثلالعمليات operations ، والي تعمل على مجموعة من البيانات data ، وفي هذا النموذج أو الطريقة تكون العمليات أو الدوالfunctions مفصولة عن البيانات data ، بحيث تصل الدوال المُختلفة إلى البيانات، أي غالباً ما تكون البيانات غير محمية من الوصول العشوائي لها.

بالنسبة للطريقة الثانية أو OOP ، فهي تعتمد على تنظيم البرنامج في وحدات units وتسمى تلك الوحدات بإسم objects)كائنات(، بحيث يمثل الكائن object وحدة واحدة تحتوي على البيانات data والعمليات operations الي ستُنفذ عليها، وبما أنالعمليات تتم من خ ل الدوال functions ، فنسنجد أن object يحتوي على البيانات data والدوال الي تعمل عليها.

يتضح لنا من هذا الأسلوب أن الكائن object هو عبارة عن بيانات data ودوال functions تعمل على تلك البيانات، ولاحظ أن الكائنobject يمثل نوعاً من الحماية للبيانات من الدوال الأخرى ال ي تأتي من خارج الكائن نفسه وفي هذا الأمر تفصيل سنتجاوزه الآن.

يوجد تفصيل حول كون الكائن object يحتوي على الدوال functions بشكل مباشر وتم ذكر هذا الأمر بهذهالطريقة لجعل الأمر أك سهولة.

ببساطة، يقوم مبدأ البرمجة بمفهوم OOP على تنظيم البرنامج في مجموعة من الكائنات objects والي تتفاعل مع بعضهاالبعض بطريقة معينة، أي أن البرنامج هو مجموعة من الكائنا objects ، وهذا الأمر يقودنا إلى التفكر في : ماهو الكائن Object Oriented Programming وكيف يمكننا كتابة الكائنات وتمثيلها في لغة Python , وغيرها من الأسئلة.

سيوفر لك هذا الجزء أو الفصل مقدمة تفصيلية حول هذا الأمر وكيف يمكننا التعامل مع هذا الأمر بشكل مبسط في لغة.Python




ماهو الكائن Object؟

ذكرنا من قبل أن الكائن هو “وحدة unit ” تحتوي على بيانات data ودوال function تمثل العمليات الي ستتم على تلك البيانات.يتم تسمية البيانات بإسم attributes ويتم تسمية الدوال بإسم methods وهنا نقول أن الكائن هو عبارة عن مجموعة من البيانات attributes والدوال methods.

يمكننا جعل هذا التعريف أك بساطة في حال نظرنا للأشياء في عالمنا الواقعي على أنها مجموعة كانئات objects ، فمث لو ر انظرنا للناس على أنها مجموعة كائنات وكل شخص هو عبارة عن كائن object ونظرنا للسيارات على أنها كائنات وكل سيارة منهاعبارة عن كائن object ونظرنا لكل ما حولنا من أشياء بهذا الأسلوب فسيصبح العالم من حولنا هو عبارة عن مجموعة من الكائنات المترابطة مع بعضها البعض والي تتواصل مع بعضها البعض بطريقة معينة.

هذه النظرة ستساعدنا على تمثيل كل ما حولنا من أشياء بشكل برمجي في لغات البرمجة ومنها لغة Python ، فلو نظرناللشخص person على أنه object فإن البيانات data الي سيحتوي عليها تمثل خصائصه attributes كشخص، ومن خصائصالشخص مث ،ً الاسم name والعمر age والطول height والوزن weight والجنسية nationality وغ رها من الخصائص الي ي ايمكننا اسناد قيمة لها.

بالنسبة للدوال methods فستمثل “الأفعال actions ” الي يقوم بها الشخص، مث المشي walk والوقوف stop وأي أفعال اأخرى يقوم بها الشخص. بهذا التشبيه يمكننا النظر للشخص person على أنه object يتكون من “خصائصه attributes ” و“أفعاله methods ” الي يقوم بها.

الآن بإمكاننا قياس نفس التمثيل على أي كائن آخر، فلو نظرنا للسيارة car على أنها كائن، فماهي الخصائص attributes الينجدها في السيارة وماهي الأفعال الي تقوم بها methods ؟ ببساطة، البيانات الي تمثل السيارة هي الخصائص ، مثل اسم وغيرها من الأفعال الأخرى. ي

بهذا الأسلوب يمكننا القول بأن الكائن object هو عبارة عن مجموعة من الخصائص attributes والدوال methods والي تتفاعلمع بعضها البعض بطريقة معينة.

خصائص الكائن Object Attributes 
ذكرنا من قبل أن البيانات الي يحتويها الكائن يمكن تمثيلها بالخصائص attributes وذكرنا أنها البيانات الي تمثل الكائن نفسه، ولوعدنا للكائن الذي يمثل شخص person فعندها سنجد أننا سنضع الخصائص الخاصة به على النحو التالي:


    name = 'Saleh'
    age = 25


لاحظ كيف قمنا بتمثيل الخصائص بطريقة تساعدنا على وصف بيانات الكائن وكل سطر من تلك الأسطر يمثل attribute واحدة،حيث قمنا من خلالها بتمثيل الاسم name و العمر age . بالإضافة إلى ذلك لاحظ أن كل خاصية لها نوع فهناك خاصية تقومبتخزين اسم أو نص مثل الاسم وهناك خاصية تقوم بتخزين رقم مثل العمر وهكذا لبقية الخصائص المُختلفة والأنواع المُختلفةالي تقوم بتخزينها.
لتمثيل الخصائص attributes في لغة Python فإننا سنستخدم المُتغرات variables بطريقة معينة وسنوضح كيفية استخدامهافيما بعد، ويمكننا الآن النظر للخصائص على أنها وبشكل عام تأتي على الصيغة


    name = value

دوال الكائن Object Methods
ذكرنا من قبل أن للكائن object أفعال يقوم بها actions وذكرنا أنه بإمكاننا تمثيلها من خ ل الدوال methods . وعليه بإمكاننا تعريف دالة عادية function ويضاف لها بعض الأمور لكي يقال عنها أنها method أو دالة تتبع كائن مع ، ومن الأمور المهمة نالي يجب إضافتها للدالة عند تعريفها، self.

يمثل self كائن سنأتي على تفصيل معناه فيما بعد ويكفي هنا أن نقول أنه عندما نريد تعريف method أو دالة خاصة بكائنمع ، فسنضع self كأول parameter لها، ثم بعد ذلك نضع أي parameters أخرى، ولتوضيح الأمر، افرض أننا نريد إنشاء دالة نتمثل فعل المشي walk ل person مع ، عندها يمكننا تمثيلها بشكل مقارب لما هو موضح في المثال التالي:


    def walk(self):
      print('walk..')

لا تقلق في حال لم تكن بعض الأمور واضحة كونها ستتضح بإذن الله تعالى فيما سيأتي من صفحات ويكفي هنا أن نقول بأن الدوال الي تتبع كائن مع تحتوي على self بالطريقة الي وضحناها في الشيفرة التالية:

ينبغي التنبيه إلى أنك لست في حاجة إلى إرسال قيمة self عند استدعاء walk كون هذا الأمر ستقوم به لغة Python بشكل ضمني ودون أي تدخل منك، وسنفهم فيما بعد لماذا تم وضع self بهذه الطريقة عندما نتحدث عن المواضيع المتقدمة فيمفهوم OOP بإذن الله تعالى.


نظرة على مفهوم Class

إذا قلنا أنك كائن object ، فأنت لست وحدك على هذه الأرض! هناك أشخاص آخرين، أليس كذلك؟ وهم كائنات أيضاً، فأنت شخص،وهناك شخص غ رك أيضاً وإذا نظرنا لكل شخص على أنه object فسنقول أنهم يتشاركون في أشياء ويختلفون في أشياء، وعليه يسيكون لدينا أك من “نسخة instance ” وكل “نسخة instance ” لها بياناتها الخاصة، ويطلق على تلك البيانات الحالية للكائن اسم ر.state

بكلامٍ مُبسط، يوجد لدينا أك من كائن objects وكل منها يحتوي على بياناته الخاصة وعليه يمكننا القول بأن Saleh هو Person و Ahmed هو Person و Norah هي Person ولكن كل منهم له بياناته الخاصة فكل منهم له اسمه الخاص وعمره وبقية المعلومات والبيانات الخاصة به، ولكنهم يشركون جميعاً في كونهم لهم نوع واحد وهو Person.

حسناً، كيف يمكننا بناء الكائن object ؟ هذا السؤال سيقودنا إلى ما يُسمى ب class . يمكن النظر إلى class على أنه الطريقة أوالخريطة الي توضح من خلالها شكل الكائن object ، أي ماهي الخصائص الموجودة فيه والدوال الي يحتويها، ومن ثم تستخدمهلتوليد الكائنات objects . بكلامٍ آخر، يمثل class خريطة تساعد على معرفة تفاصيل الكائن object ، وعليه، سنقوم بإنشاء classمرة واحدة فقط، ومن ثم سنستخدمه لتوليد أك من كائن objects .


تذكر نحن نقوم بتعريف وإنشاء class لمرة واحدة، ومن ثم سنقوم بإنشاء الكائنات منه objects ، وهذا يع ي نأنه لا يمكنك إنشاء كائن بشكل مُباشر دون وجود class له، أي يجب أن يتبع object أو الكائن class معين.
ببساطة، تحتاج إلى إنشاء class “يصف” شكل الكائنات الي ستصدر منه، ومن ثم ستستخدمه، أي class ، لإنشاء تلك الكائنات objects.

كل ما ستقوم به في لغة Python هو إنشاء class ، وفي حالتنا هنا، بإسم Person ، ومن ثم إنشاء كائنات منه تمثل Saleh وAhmed و Norah ، ولإنشاء class يمثل Person في لغة Python فسنستخدم كلمة class يليها اسم class الذي نريده، وفيحالتنا هنا Person ، وفيما يلي يوضح الكود هذا الأمر:


    class Person:
    ...

في هذه الحالة، قمنا بتعريف class بإسم Person ، وسنقوم بوضع المتغرات والدوال الي سيحتاج إليها كل كائن object منه،ويمكن النظر للموضوع أنه في حال قمت ببناء class جديد فأنت تقوم بإضافة “نوع جديد” إلى لغة Python ، وح تفهم لغة ىPython هذا النوع فهي بحاجة إلى التفاصيل الي ستكتبها بداخل class نفسه، فعندما تقوم بتعريف object جديد نوعهPerson فستستخدم لغة Python التعريف الذي قمت به لوصف Person class للتحقق من البيانات الي سيتم تخزينها في كلكائن من ذلك النوع والتحقق من الدوال والعمليات الي ستتم على كل كائن من ذلك النوع أيضاً، بكلامٍ آخر class هو وصفة توضحكيفية إنشاء كائنات لنوع مع .


تأتي لغة Python ومعها أنواع بيانات مُختلفة data types مثل الأنواع الي تمثل الأرقام numbersوالأنواع الي تمثل النصوص strings والقوائم lists وغ رها من الأنواع، ويمكنك النظر إلى class على أنه يطريقة للسماح للمستخدم أو المبرمج بإنشاء أنواعه الخاصة user-defined data type ، بحيث يمثل تعريفclass جديد تعريف نوع جديد في Python ، وبما أنه “نوع جديد”، فستكون لغة Python بحاجة إلى “معرفةكيفية التعامل مع هذا النوع الجديد”، وهذا ما يفعله المبرمج عندما يقوم بتعريف class ، حيث سيقوم بشرحالتفاصيل الي تخص هذا النوع الجديد وتحديد كل التفاصيل الي ستساعد Python على كيفية التعامل معهبشكل مناسب، وبما أن class يُضيف نوع جديد، فبإمكانك إنشاء مُتغرات variables من ذلك النوع مثلماتقوم بإنشاء المتُغرات من الأنواع الأخرى الي تأتي مع اللغة built-in data types ، وستُشر تلك المتُغراتإلى الكائنات .objects


مفهوم Class وتعريف الخصائص Attribute
سنبدأ الآن بتعريف الخصائص أو جزء البيانات الي سيحتويها كل كائن، وبما أننا قمنا بالتمثيل من خ ل Person class ، فسنقوم ابإضافة خاصيت له هما الاسم name و العمر age . بما أن كل شخص لديه خاصية الاسم name أي له اسم، وله عمر age ، نوقمنا بإضافتها إلى Person ، فسيكون كل object يمثل شخص مع له هات الخاصيت ، والشيفرة .. توضح كيفية إضافتها.


    class Person:
      # Initializer
      def __init__(self, name, age):
        self.name = name12:self.age = age


ببساطة قمنا بتعريف دالة __ init __ والي سنأتي على الحديث عنها، ومن ثم استخدمنا self كـ parameter لنخبر Python بأنه method كما ذكرنا، ومن ثم قمنا بتمرير بارامي رين هما name و age وهما الاسم والعمر الي سيتم ر تإرسالهما إلى الكائن، وفي السطر ٤ و السطر قمنا بتعريف خاصيي name و age وأسندنا القيم المرسلة للدالة خلال name و  age إليها، وبهذا الأسلوب أصبح كل كائن object سيتم تعريفه من Person يحتوي على خاصيتين هما name و age.

عند إنشاء كل كائن جديد فأنت بحاجة إلى تمهيده بقيم أولية للخصائص الي يحتويها، فمث عندما نقوم بإنشاء object لتمثيل ابيانات Saleh فنحن بحاجة إلى تمهيد الخاصيت name و age بقيم اف راضي default values تمثل البيانات الخاص ب Saleh ، وعليه، سنقوم بتحديد الاسم name على أنه Saleh والعمر مث 25 ، ولتوضيح الأمر، دعنا نقوم بإنشاء ثلاثة كائنات objects التمثيل ثلاثة أشخاص مُختلف من Person class كما يوضح الكود التالي:


    # Instantiate the Person object
    s = Person(“Saleh”, 25)
    a = Person(“Ahmed”, 33)
    n = Person(“Norah”, 27)

ببساطة قمنا بإنشاء ثلاثة كائنات ولاحظ كيف قمنا باستخدام Person ومن ثم قمنا بتمرير الاسم ومن ثم العمر، وبعد إنشاءكل كائن، تم إسناده إلى مُتغر أو reference ، وعليه يمكننا التعامل مع تلك الكائنات من خ ل المُتغرات الي قمنا بإنشائها، افالمتغر s يُشر إلى الكائن الذي يُمثل Saleh وقس على ذلك بقية المُتغيرات الأخرى.

ملاحظة: قمت باستخدام أسماء بسيطة مثل s و a و n لتسهيل عملية الشرح بدلا من ذكر الأسماء بشكل مُباشر  والتي قد تتسبب في خلط المُتلقي بين الكائن وبين المتغير الذي يُشير إليه.

الآن أصبح بإمكانك إنشاء المزيد من الكائنات من Person لتمثيل الأشخاص بأعداد وأسماء وأعمار مُختلفة وهذا هو المبدأ ببساطة،أي قم بتعريف تفاصيل شكل الكائنات من خلال class ومن ثم قم بإنتاجها. الآن أصبح كل object مستقل عن الآخر ببياناته الخاصة.

عند إنشاء كل كائن object وكتابة Person وتمرير القيم كما سبق ورأينا، فسيتم استدعاء دالة _ _init_ _  وتمرير القيم الي قمنا بتمريرها إلى Person إليها، وسيتم تنفيذ ما بداخلها من شيفرة برمجية، وفي حالتناهنا، سيتم تمهيد الكائن بالقيم المرسلة له فقط.


مفهوم Class وتعريف الدوال methods

نأتي الآن لتعريف الدوال methods الخاص ب class مع ، وبما أننا نعمل مع Person class فسنقوم بإنشاء دالة بسيطة تسأل الشخص عن اسمه وسنقوم بتسميتها whatIsYourName والي من خلالها سنقوم بطباعة اسم الشخص الذي سنسأل عنهوفقاً للكائن الذي ستُستدعى منه. توضح الشيفرة هذا الأمر:


    class Person:
      # Initializer
      def __init__(self, name, age):
        self.name = name
        self.age = age
      def whatIsYourName(self):
        print(“My name is “ + self.name)

  

في السطر ٧ قمنا بتعريف دالة whatIsYourName وكونها عبارة عن method قمنا بتزويدها ب self كما سبق وذكرنا، وكل ماتقوم به هذه الدالة هي طباعة اسم الشخص الذي يحتفظ به الكائن نفسه والذي يمثل كائن object من نوع Person ، والآن دعنانقوم بإعادة كتابة الكائنات السابقة أو الأشخاص السابقين ونستدعي دالة whatIsYourName لكل شخص على النحو الموضحفي الشيفرة..


    # Instantiate the Person object
    s = Person('Saleh', 25)
    a = Person('Ahmed', 33)
    n = Person('Norah', 27)
    s.whatIsYourName()
    a.whatIsYourName()
    n.whatIsYourName()

ببساطة في الأسطر من السطر ٦ إلى السطر ٨ قمنا باستدعاء دالة whatIsYourName “على” كل كائن، ولاحظ أن ي قلت “على”، نوذلك لكون الدالة whatIsYourName ستعمل وفقاً للكائن الذي يستدعيها، أي أنها ستتصرف وفقاً للكائن الذي سيستدعيها،ولذلك قلت “على”، كون whatIsYourName ستقوم بتنفيذ عمليتها “على” الكائن المُستدعي لها، وعليه ستكون المُخرجاتعلى النحو التالي:


    My name is Saleh
    My name is Ahmed
    My name is Norah




مفهومي Self و _ _init_ _

حتى الآن، تحدثنا عن مفهوم الكائن object وتحدثنا عن بعض التفاصيل المُتعلقة به. من ضمن النقاط الي ذكرناها،self و دالة __ init __. حى تكتمل الصورة حول مفهوم الكائنات في لغة Python ، نحن بحاجة إلى فهمكلا منهما بشكلٍ جيد لكي نستطيع كتابة البرامج بمفهوم OOP ونحن نملك الفهم الجيد لهذا المفهوم بإذن اللهتعالى.

سنتحدث في هذا الجزء عن دور كلًا من self و __ init __ في مفهوم برمجة الكائنات OOP بلغة Pythonوكيفية التعامل معهما.

بنهاية هذا الجزء، ستكون قادر على:

•فهم الهدف من وجود self وكيفية استخدامها.
•فهم الهدف من وجود __ init __ وكيفية استخدامها.

سنتحدث في هذا الجزء عن self و __ init __ وفهم كل منهما يعت ضرورياً للمُضي قدماً في تطوير البرمجيات بلغة Python روفقاً لمفهوم برمجة الكائنات Object Oriented Programming ، ويجب عليك ال رك ز بشكل جيد على هذا الفصل كونه سيحتوي ي تعلى عدد من النقاط والمفاهيم المهمة الي ستساعدك على فهم الكثر من النقاط المتقدمة بإذن الله تعالى.

حتى نفهم self بشكل جيد، دعنا نقوم بالعودة للمثال السابق الخاص ب Person class ونكتفي بالتعريف الذي يحتوي على _ _init _ _ وخاصية name و age على النحو الموضح في الشيفرة:


    class Person:
      # Initializer
      def __init__(self, name, age):
        self.name = name
        self.age = age
      def whatIsYourName(self):
        print('My name is ' + self.name)

الآن دقق النظر في الشيفرة السابقة ودعنا نقوم بإنشاء object ليمثل شخص اسمه Khalid وعمره ١٧ عاماً وفتاة بإسم Norah وبعمل ٢٢ عاماً على النحو الموضح في الشيفرة:


    # Instantiate the Person object
    k = Person('Khalid', 17)
    n = Person('Norah', 22)
    k.whatIsYourName()
    n.whatIsYourName()


ببساطة قمنا بإنشاء كائن object جديد من خ ل Person وتمرير الاسم Khalid والعمر 17 ليمثل كل منهما القيمة الي سيتم اتخزينها في name و age للكائن الذي يُشر إليه k ونفس الأمر بالنسبة إلى Norah.

عندما تقوم بتنفيذ السطر ٢ ) وقس عليه السطر ٣(، أي عندما تحاول “إنشاء object ” جديد، فستقوم Python بإنشاء الكائن أولًا،ومن ثم ستستدعي دالة __ init __ “عليه”، حيث ستقوم لغة Python بإستدعائها عنك ومن ثم ستقوم بتمهيد الكائن وتخزينالقيم الي أرسلتها فيه، أو لتنفيذ أي عمليات قمت بكتابتها في __ init __ “على” ذلك الكائن، ومن ثم ستعيد ذلك الكائن إليكلتحتفظ به في متغر ليُشر إليه، وذلك بعد إنشائه وتمهيده بالقيم المناسبة من خ ل تنفيذ دالة __ init __ عليه.

لو دققنا النظر، سنجد أن دالة __ init __ لها ثلاثة باراميرات، أولها self ومن ثم name و age ، وبالنسبةل name و age فقد قمنا بتمريرها أثناء إنشاء الكائن، وبالنسبة إلى self ، فهي تمثل الكائن الذي قامتبإنشائه، حيث ذكرنا أن Python تقوم “بإنشاء الكائن أولًا”، ومن ثم تمهيده من خ ل __ init __ ثانياً، لذا اسيُشر self إلى الكائن الذي قامت Python بإنشائه قبل أن تعيده لنا، وستستخدم self كمتغر عادييساعدها عليها الوصول إلى ذلك الكائن الذي قامت بإنشاءه، ومن ثم ستستخدمه للوصول إلى الخصائصالموجودة في ذلك الكائن وإلى الدوال المُختلفة فيه.

الآن سنجد أنفسنا أمام مُشكلة، وهي أننا لا نستطيع الوصول للكائن الذي قامت Python بإنشاءه في الذاكرة بشكل مباشر،وكوننا لا نعرف مكانه في الذاكرة، فسنقوم بإنشاء مُتغر، وفي حالتنا هنا k، لكي “يستقبل” ما ستتم إعادته لنا أثناء الإنشاء،أي الكائن، بحيث يُشر إلى ذلك الكائن، وعليه، قمنا بتعريف مُتغر k لكي يمثل مرجع reference يُساعدنا على الوصول إلى ذلكالكائن من النوع Person والذي يحتوي على بيانات Khalid . بعد ذلك، يمكنك استخدام k للوصول إلى الخصائص والدوال الخاصةبالكائن Khalid والي تم إنشائها في تعريف Person class كونه، ببساطة، يُشر إلى ذلك الكائن الجديد.

الآن دعنا نأتي إلى السطر )وقس عليه السطر ٦(، في هذا السطر نحن نستدعي دالة whatIsYourName “على الكائن الذي ٥يُشر إليه k”. الآن لو عدنا لتعريف دالة whatIsYourName ، فسنجد أنها تحتوي على parameter واحد، وهو self ، ولاحظ هناأننا لم نقم بتمرير أي قيمة إلى whatIsYourName في السطر ، فكيف سيتم تنفيذ هذه الدالة في هذه الحالة؟ في حقيقة ٥الأمر، لقد قمت بتمرير البارامير الذي تحتاج إليه دالة whatIsYourName دون أن تشعر، أي تم تمرير قيمة مناسبة إلى باراميرself ، وقد تفكر الآن: كيف تم تمرير قيمة إلى self ؟ وماهي؟.

بإمكانك استخدام أي كلمة بدلًا من self إن أردت في مكان self لكن هذا الأمر لا يُنصح به كون self هو الاسم القياسي المُستخدم من قبل Python واستخدامه سيجعل من الشيفرة قابلة للقراءة بشكل أفضل من قبلالغر بالإضافة إلى أن المحررات وأدوات التطوير تستطيع التعرف عليه بسهولة.

ببساطة، حتى نجعل الجواب أكثر سهولة، سأقوم بإعادة جزء الاستدعاء لدالة whatIsYourName وأضع عليه بعض التوضيح ى رفي التعليقات على النحو الموضح في الشيفرة التالية:


    k.whatIsYourName() # Person.whatIsYourName(k)
    n.whatIsYourName() # Person.whatIsYourName(n)

الآن لو نظرنا للطريقة الي تقوم بها لغة Python بتنفيذ دالة whatIsYourName ، بشكل تقريي، في التعليق الموجود أمام كلدالة، فسنجد أن لغة Python ستقوم بتنفيذها بطريقة واحدة فقط، ومايختلف، هو الكائن الذي “ستُستدعى عليه الدالة”، لذا،لاحظ كيف قامت Python باستخدام المُتغيرين k و n لتحدد الكائن المُراد تنفيذ دالة whatIsYourName عليه، وهو ماكنا نقصده بـself .

يتضح لنا مما ذكرناه سابقاً أن self هو عبارة عن مُتغر يُشر إلى كائن من نفس نوع class ، أي في حالةPerson ، فإن self هو كائن من نوع Person مثله مثل k و n، ولكن قيمته غ ر معلومة، ويتم إسناد قيمة له يلتُشر إلى كائن مُع نريد التعامل معه لتنفيذ الدوال عليه، أو لتعديل خصائصه، أي أن self سيُشر إلى نفس نالكائن الذي يُشر إليه k عند التعامل مع الكائن الذي يُشر إليه k، وسيُشر إلى الكائن الذي يُشر إليه الكائن nعندما نتعامل مع الكائن الذي يُشر إليه .

فكر في الأمر، وكأن لغة Python تقوم بإستبدال self بالمتغر المناسب، ففي حال استدعينا دالة whatIsYourName علىالكائن الذي يُشر إليه k، فسيتم استبدال كلمة self في دالة whatIsYourName ب k، وقس على ذلك n وبقية الكائنات الأخرىمن Person ، ولو تخيلنا هذا الأمر، فسيُصبح شكل دالة whatIsYourName عندما نستدعيها من خ ل k على النحو الموضح في االشيفرة..


    def whatIsYourName(k):
      print('My name is ' + k.name)

بهذا الأسلوب، يتضح لنا دور self عندما نستخدمها بداخل class مع ، فأي مكان تجد فيه self ، فالمقصود بلغة بسيطة هو ن“الكائن الحالي” الذي يتم استخدامه، وستعمل الدوال والخصائص على ذلك الكائن، سواء كان مايُشر إليه k أو n أو غ رها من يكائنات Person.
الآن يتضح لنا السبب في وجود self عند تعريف كل method ، وذلك لكون كل method سيعمل على objectمُختلف من نفس النوع، وهو بحاجة إلى معرفة ذلك الكائن الذي سيعمل عليه، وهذا ماستقوم به لغةPython في الخلف عنك، حيث ستقوم بتمرير ذلك الكائن مكان self لكي يتم التعامل معه من قبل الدالة.


دالة __ init __ وتمهيد الكائن

ببساطة، عندما تقوم بإنشاء object جديد من class مع ، فسيتم استدعاء دالة __ init __ لتنفيذ عدد من المهام ويُسمى نبإسم constructor ، حيث ستقوم __ init __ بعدد من المهام كما ذكرنا، منها تعريف الخصائص الي سيحتويها الكائن كمافعلنا مع name و age ، وتمهيدها بقيم معينة، بكلامٍ آخر، تقوم __ init __ بعمل initialization أو تمهيد للكائن الذي نقومبإنشاءه.
ببساطة، عندما يتم إنشاء كائن object ، فأنظر إليه على أنه لا يحتوي على أي شيء، وسنستدعي __ init __ لتحديد الخصائصالي يحتويها والقيم المُسندة له. هذا التصور سيساعدنا على فهم كيفية التعامل مع __ .__init
تحدثنا في الصفحات السابقة عن بعض النقاط حول __ init __ ، ويمكننا تأكيد الفهم من خ ل عرض مثال آخر غر Person اومع ذلك، ستجد أننا نستخدم نفس الأسلوب ونفس الطريقة لإنشاء الكائن، ويختلف كل class عن الآخر بالتفاصيل الخاصة بهوالي ستُستخدم لإنشاء الكائنات الخاصة به. فيما يلي توضح الشيفرة.. مثال يوضح إنشاء Shark class ، ودوره إنشاء كائنات تمثل أسماك قرش.


    class Shark:
    # Initializer
      def __init__(self, name):
        self.name = name
      def swim(self):
        print(self.name + 'is swimming')

ببساطة، قمنا بإنشاء مثال لوصف سمك القرش Shark ، ولاحظ أنه لا يختلف كثرًا عن Person سوى في عملية الوصف اليتوضح الخصائص الي يحتاجها سمك القرش والدوال أو الوظائف الي يقوم بها.

تعتبر كتابة __ init __ اختيارية، بحيث يمكنك تجاهلها وعدم كتابتها في حال كنت لا تريد إنشاء وتمهيد المُتغيرات instance variables عند إنشاء object ، حيث يمكنك تمهيدها فيما بعد.
